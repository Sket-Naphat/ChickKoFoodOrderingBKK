<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kitchen Orders</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link rel="stylesheet" href="assets/bootstrap/dist/css/bootstrap.min.css">
    <link href="assets/css/styles.css" rel="stylesheet" />
    <style>
        .table-select option {
            font-size: 1rem;      /* ปรับขนาดตัวอักษรตามที่ต้องการ */
            line-height: 2rem;    /* เพิ่มความสูงของบรรทัด */
        }

        .price-wrapper {
    position: relative;
    display: inline-block;
}

.price-text {
    position: relative;
    z-index: 1; /* ให้ตัวหนังสืออยู่ชั้นบนสุด */
}
.paid-stamp {
    position: absolute;
    top: -50%;
    left: 50%;
    transform: translate(-50%, 0);
    opacity: 0.5; /* ปรับความโปร่งใส */
}
    </style>
</head>

<body class="d-flex flex-column min-vh-100">

    <!-- Navigation-->
    <nav class="navbar navbar-expand-lg navbar-light bg-chickkored">
        <div class="container px-4 px-lg-5">
            <a class="navbar-brand" href="index.html">
                <img src="assets/img/ChickKoLogoText.jpg" alt="CHICK KO" style="height: 40px;">
            </a>
            <button class="navbar-toggler bg-light" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0 ms-lg-4">
                    <li class="nav-item"><a class="nav-link text-light" href="index.html">Menu</a></li>
                    <li class="nav-item"><a class="nav-link text-light" href="orderPage.html">Order</a></li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle text-light" id="navbarDropdown" href="#" role="button"
                            data-bs-toggle="dropdown" aria-expanded="false">Admin</a>
                        <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <li><a class="dropdown-item" href="previousOrder.html">เพิ่มเมนูย้อนหลัง</a></li>
                            <li>
                                <hr class="dropdown-divider" />
                            </li>
                            <li><a class="dropdown-item" href="menuSetupPage.html">Menu Setup</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <header class="bg-dark py-2">
        <div class="container px-4 px-lg-5 my-1 position-relative">
          <div class="text-center text-white">
            <h1 class="display-4 fw-bolder">Order ที่ปิดไปแล้ว</h1>
          </div>
        </div>
      </header>
    <br>
    <div class="container">
        <div class="accordion" id="currentOrderPanels">
            <!-- รายการออร์เดอร์จะถูกเพิ่มที่นี่โดย JavaScript -->
        </div>
    </div>

    <!-- Footer-->
    <footer class="py-3 bg-chickkored mt-auto">
        <div class="container">
            <p class="m-0 text-center text-white">Copyright &copy; CHICK KO FOOD ORDERING by SKET 2024</p>
        </div>
    </footer>




    <!-- Modal -->
    <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
        aria-labelledby="staticBackdropLabel" aria-hidden="false" role="dialog" aria-modal="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="staticBackdropLabel">รายการของคุณ</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <form id="orderForm">
                    <div class="modal-body">
                        <div class="input-group">
                            <span class="input-group-text">ชื่อ</span>
                            <input type="text" id="customerName" aria-label="Name" class="form-control" disabled>
                        </div>

                        <br>
                        <!-- รถเข็น -->
                        <div id="cart">
                            <ul id="orderItems" class="list-group"></ul>
                            <div id="total" class="mt-3 fs-3 fw-bold">ยอดรวม: 0.00 THB</div>
                            <div id="totalWithDiscount" class="mt-1 fs-3 fw-bold"></div>
                        </div>
                    </div>
                    <div class="text-center">
                        <img src="assets/img/qrcodepp.jpg" class="img-fluid">
                    </div>
                    <!-- <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ปิด</button>
                        <button type="button" id="dischargeSubmit" class="btn btn-success">ยืนยันจ่ายเงิน</button>
                    </div> -->

                    <div class="modal-footer d-flex justify-content-between">
                        <div>
                          <button type="button" id="calculateChangeBtn" class="btn btn-warning ">
                            คิดเงินทอน
                          </button>
                          <button type="button" id="applyDiscountBtn" class="btn btn-info">
                            คิดส่วนลด 10%
                          </button>
                        </div>
                        <div>
                          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                            ปิด
                          </button>
                          <button type="button" id="dischargeSubmit" class="btn btn-success">
                            ยืนยันจ่ายเงิน
                          </button>
                        </div>
                      </div>
                </form>
            </div>
        </div>
    </div>
    <!-- Modal คำนวณเงินทอน -->
    <div class="modal fade" id="changeModal" tabindex="-1" aria-labelledby="changeModalLabel" aria-hidden="true"
        data-bs-backdrop="static">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="changeModalLabel">คำนวณเงินทอน</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label for="receivedAmount" class="form-label">จำนวนเงินที่รับ (THB)</label>
                        <input type="number" class="form-control form-control-lg" id="receivedAmount"
                            placeholder="กรอกจำนวนเงินที่รับ" inputmode="numeric">
                    </div>
                    <div class="mb-3">
                        <label for="totalAmount" class="form-label">ยอดรวม (THB)</label>
                        <input type="text" class="form-control form-control-lg" id="totalAmount" disabled>
                    </div>
                    <div class="alert alert-info fs-5" id="changeResult">เงินทอน: 0.00 THB</div>
                </div>
                <!-- <div class="modal-footer d-grid gap-2">
                <button type="button" class="btn btn-primary btn-lg" id="calculateChange">คำนวณเงินทอน</button>
                <button type="button" class="btn btn-secondary btn-lg" data-bs-dismiss="modal">ปิด</button>
            </div> -->


                <div class="modal-footer d-flex flex-column flex-md-row gap-2">
                    <!-- ปุ่มคิดเงินทอน (อยู่ชิดซ้ายในหน้าจอใหญ่) -->
                    <button type="button" id="calculateChange" class="btn btn-primary btn-lg w-100 w-md-auto">
                        คำนวณเงินทอน
                    </button>

                    <div class="d-flex flex-column flex-md-row gap-2 w-100 w-md-auto">
                        <button type="button" class="btn btn-success btn-lg w-100"
                            id="dischargeChangeSubmit">ยืนยันจ่ายเงิน</button>
                        <button type="button" class="btn btn-secondary btn-lg w-100"
                            data-bs-dismiss="modal">ปิด</button>
                    </div>
                </div>

            </div>
        </div>
    </div>


    <!-- Modal -->
    <div class="modal fade" id="addMenuModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
        aria-labelledby="addMenuModalLabel" role="dialog" aria-modal="true">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="addMenuModalLabel">รายการของคุณ</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <form id="addMenuForm">
                    <div class="modal-body">
                        <div class="input-group mb-3">
                            <span class="input-group-text">ชื่อ</span>
                            <input type="text" id="addMenuCustomerName" aria-label="Name" class="form-control" disabled>
                        </div>

                        <!-- รถเข็น -->
                        <span class="fw-bold mb-2 d-block">รายการเพิ่ม</span>
                        <div id="cart" class="mb-3">
                            <ul id="cartItems" class="list-group border rounded p-2"
                                style="max-height: 200px; overflow-y: auto;">
                                <!-- Added Items -->
                            </ul>
                        </div>

                        <!-- ปุ่มยืนยัน -->
                        <div class="text-end mb-3">
                            <button type="button" id="addMenuSubmit" class="btn btn-success w-100">เพิ่มเมนู</button>
                        </div>

                        <!-- แถบเมนู -->
                        <ul class="nav nav-tabs" id="categoryTabs" role="tablist">
                            <li class="nav-item" role="presentation">
                                <button class="nav-link active" id="all-tab" data-bs-toggle="tab" data-bs-target="#all"
                                    type="button" role="tab" aria-controls="all" aria-selected="true">ทั้งหมด</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="friedChicken-tab" data-bs-toggle="tab"
                                    data-bs-target="#friedChicken" type="button" role="tab" aria-controls="friedChicken"
                                    aria-selected="false">ไก่ทอด</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="meal-tab" data-bs-toggle="tab" data-bs-target="#meal"
                                    type="button" role="tab" aria-controls="meal"
                                    aria-selected="false">กินจริงจัง</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="snack-tab" data-bs-toggle="tab" data-bs-target="#snack"
                                    type="button" role="tab" aria-controls="snack"
                                    aria-selected="false">ของทานเล่น</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="topping-tab" data-bs-toggle="tab" data-bs-target="#topping"
                                    type="button" role="tab" aria-controls="topping"
                                    aria-selected="false">Topping</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="dessert-tab" data-bs-toggle="tab" data-bs-target="#dessert"
                                    type="button" role="tab" aria-controls="dessert"
                                    aria-selected="false">ของหวาน</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="beverage-tab" data-bs-toggle="tab"
                                    data-bs-target="#beverage" type="button" role="tab" aria-controls="beverage"
                                    aria-selected="false">เครื่องดื่ม</button>
                            </li>
                        </ul>

                        <!-- พื้นที่แสดงรายการอาหาร -->
                        <div class="tab-content mt-3 menu-scrollable" id="categoryTabsContent">
                            <div class="tab-pane fade show active" id="all" role="tabpanel" aria-labelledby="all-tab">
                                <ul id="menuList" class="list-group">
                                    <!-- All Menu Items -->
                                </ul>
                            </div>
                            <div class="tab-pane fade" id="friedChicken" role="tabpanel"
                                aria-labelledby="friedChicken-tab">
                                <ul id="menufriedChickenList" class="list-group">
                                    <!-- Fried Chicken Items -->
                                </ul>
                            </div>
                            <div class="tab-pane fade" id="meal" role="tabpanel" aria-labelledby="meal-tab">
                                <ul id="menuMealList" class="list-group">
                                    <!-- Meal Items -->
                                </ul>
                            </div>
                            <div class="tab-pane fade" id="snack" role="tabpanel" aria-labelledby="snack-tab">
                                <ul id="menuSnackList" class="list-group">
                                    <!-- Snack Items -->
                                </ul>
                            </div>
                            <div class="tab-pane fade" id="topping" role="tabpanel" aria-labelledby="topping-tab">
                                <ul id="menuToppingList" class="list-group">
                                    <!-- Topping Items -->
                                </ul>
                            </div>
                            <div class="tab-pane fade" id="dessert" role="tabpanel" aria-labelledby="dessert-tab">
                                <ul id="menuDessertList" class="list-group">
                                    <!-- Dessert Items -->
                                </ul>
                            </div>
                            <div class="tab-pane fade" id="beverage" role="tabpanel" aria-labelledby="beverage-tab">
                                <ul id="menuBeverageList" class="list-group">
                                    <!-- Beverage Items -->
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ปิด</button>
                    </div>
                </form>
            </div>
        </div>
    </div>



    <!-- Modal -->
    <div class="modal fade" id="addToppingModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
        aria-labelledby="addToppingModalLabel" role="dialog" aria-modal="true">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content">
                <div class="modal-header bg-chickkored text-white">
                    <h1 class="modal-title fs-5" id="addToppingModalLabel">เลือกท้อปปิ้ง</h1>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"
                        aria-label="Close"></button>
                </div>
                <form id="addMenuForm">
                    <div class="modal-body">
                        <div class="input-group mb-3 align-items-center">
                            <label for="addMenuName" class="input-group-text fw-bold">ชื่อเมนู:</label>
                            <input type="text" id="addMenuName" class="form-control bg-light border-1"
                                placeholder="ชื่อเมนู" disabled>

                        </div>
                        <div class="input-group mb-3 align-items-center">
                            <label for="addMenuPrice" class="input-group-text fw-bold">ราคา:</label>
                            <input type="text" id="addMenuPrice" class="form-control bg-light border-1"
                                placeholder="ราคา" disabled>
                            <span class="input-group-text fw-bold">THB</span>
                        </div>
                        <!-- รถเข็น -->
                        <span class="fw-bold mb-2 d-block">ท้อปปิ้งที่เพิ่ม</span>
                        <div id="cart" class="mb-3">
                            <ul id="cartToppingItems" class="list-group border rounded p-2"
                                style="max-height: 200px; overflow-y: auto;">
                                <!-- Added Items -->
                            </ul>
                            <div id="totalTopping" class="fw-bold mt-3">ราคารวมท้อปปิ้ง : 0.00 THB</div>
                        </div>
                        <div class="input-group mb-3 align-items-center">
                            <label for="addMenuQTY" class="input-group-text fw-bold">จำนวน :</label>
                            <button class="btn btn-outline-secondary" type="button" id="decreaseQty">-</button>
                            <input type="number" min="1" id="addMenuQTY"
                                class="form-control text-center bg-light border-1" inputmode="numeric" value="1">
                            <button class="btn btn-outline-secondary" type="button" id="increaseQty">+</button>
                        </div>
                        <div class="input-group mb-3 align-items-center">
                            <label for="addMenuRemark" class="input-group-text fw-bold">หมายเหตุ :</label>
                            <input type="text" id="addMenuRemark" class="form-control bg-light border-1"
                                placeholder="หมายเหตุ เช่น เผ็ดน้อย , ไม่ใส่อะไร">
                        </div>

                        <!-- ปุ่มยืนยัน -->
                        <div class="text-end mb-3">
                            <button type="button" id="addToppingSubmit" class="btn btn-success w-100">เพิ่มเมนู</button>
                        </div>
                        <span class="fw-bold mb-2 d-block">เลือกท้อปปิ้ง</span>
                        <div class="tab-pane fade show active" id="all" role="tabpanel" aria-labelledby="all-tab">
                            <ul id="allToppingList" class="list-group">
                                <!-- All Menu Items -->
                            </ul>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ปิด</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="assets/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="assets/js/orderHistory.js" type="module"></script>
</body>

</html>